/* homePage.scss — tema dark coerente con login, layout a GRID e fix overlap */

/* ---------- GRID LAYOUT ---------- */
.home {
  display: grid;
  grid-template-columns: 300px minmax(0, 1fr);
  grid-template-rows: auto 1fr;
  grid-template-areas:
    "header header"
    "sidebar main";
  min-height: 100vh;

  background: var(--color-bg-700);
  color: var(--text-light);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---------- HEADER ---------- */
.home__header {
  grid-area: header;
  position: sticky;
  top: 0;
  z-index: 1000;
  width: 100%;

  height: 64px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-inline: var(--space-4, 16px);

  background: rgba(18, 35, 66, 1);
  border-bottom: 1px solid var(--border);
}

.home__header-left {
  display: flex;
  align-items: center;
  gap: 8px;

  img {
    height: 28px;
    display: block;
    object-fit: contain;
  }
}

.home__header-right {
  display: flex;
  align-items: center;
  flex-direction: row;
}

.home__role {
  color: var(--text-light);
}

/* ---------- SIDEBAR ---------- */
.home__sidebar {
  grid-area: sidebar;
  min-height: 100%;
  width: 300px;
  background: var(--color-bg-800);
  border-right: 1px solid var(--border);
  color: var(--text-light);
  box-shadow: var(--shadow-md, 0 8px 24px rgba(0,0,0,.4));
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  & > .MuiBox-root {
    padding: var(--space-4, 16px);
  }

  .MuiTypography-overline {
    color: var(--text-muted, #a1a1aa);
    letter-spacing: .08em;
    text-transform: uppercase;
    margin-bottom: var(--space-2, 8px);
    display: block;
  }

  .MuiListItemButton-root {
    border-radius: 8px;
    transition: background-color .2s ease, color .2s ease;
    color: var(--text-light);

    &.Mui-selected {
      background: var(--color-bg-600);
      color: var(--primary);
      font-weight: 600;

      .MuiListItemIcon-root { color: var(--primary); }
    }

    .MuiListItemIcon-root {
      min-width: 40px;
      color: var(--text-light);
    }
  }

  /* CTA box in fondo */
  & > .MuiBox-root:last-child {
    .btn.btn--primary {
      border-radius: var(--radius-md, 10px);
      background: var(--primary);
      color: #fff;
      box-shadow: var(--shadow-sm, 0 1px 2px rgba(0,0,0,.3));

      &:hover { background: var(--primary-600, #1d4ed8); }
    }

    .MuiButton-outlined {
      border-color: var(--border);
      color: var(--text-light);

      &:hover { background: var(--color-bg-700); }
    }
  }

  /* scrollbar discreta */
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--color-bg-600) transparent;

  &::-webkit-scrollbar { width: 8px; }
  &::-webkit-scrollbar-thumb {
    background: var(--color-bg-600);
    border-radius: 999px;
  }

  /* blocca “spinte” sul main */
  min-width: 0;
}

/* ---------- MAIN ---------- */
.home main,
.home .MuiBox-root[role="main"] {
  grid-area: main;

  padding: clamp(16px, 2.5vw, 24px);
  width: 100%;

  /* fondamentale per evitare overlap/overflow */
  min-width: 0;

  background: var(--color-bg-700);

  h1, h2, h3, .MuiTypography-h4 {
    margin-bottom: var(--space-3, 12px);
    color: var(--text-light);
  }

  .MuiCard-root {
    background: var(--color-bg-800);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg, 16px);
    box-shadow: var(--shadow-sm, 0 1px 2px rgba(0,0,0,.4));
  }
}

.home__main-content {
  display: grid;
  gap: var(--space-3, 12px);
  padding: 20px;
}

@media (max-width: 768px) {
  .home {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto 1fr;
    grid-template-areas:
      "header"
      "sidebar"
      "main";
  }

  .home__sidebar {
    position: sticky;
    top: 64px;
    left: 0;
    height: calc(100vh - 64px);
    width: 80vw;
    max-width: 320px;
    background: var(--color-bg-800);
    box-shadow: var(--shadow-md, 0 8px 24px rgba(0,0,0,.4));
    z-index: 100;
  }

  .home main,
  .home .MuiBox-root[role="main"] {
    position: relative;
    z-index: 0;
  }
}

@media (min-width: 769px) and (max-width: 1180px) {
  .home {
    grid-template-columns: 260px minmax(0, 1fr);
  }
  .home__sidebar { width: 260px;
    min-height: 100%;

  }
}
